{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nconst API_KEY = '50912245-ef7826fa83dec8c0e3bb73371';\n\nexport default async function getImagesByQuery(query) {\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n      },\n    });\n    return response.data.hits;\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    throw error;\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction createGallery(images) {\n  const gallery = document.createElement('ul');\n  gallery.className = 'gallery';\n\n  images.forEach(image => {\n    const listItem = document.createElement('li');\n    listItem.className = 'gallery-item';\n\n    const link = document.createElement('a');\n    link.href = image.largeImageURL;\n    link.target = '_blank';\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.loading = 'lazy';\n\n    const infoContainer = document.createElement('div');\n    infoContainer.className = 'image-info';\n\n    const likes = document.createElement('span');\n    likes.className = 'likes';\n    likes.textContent = `Likes: ${image.likes}`;\n\n    const views = document.createElement('span');\n    views.className = 'views';\n    views.textContent = `Views: ${image.views}`;\n\n    const comments = document.createElement('span');\n    comments.className = 'comments';\n    comments.textContent = `Comments: ${image.comments}`;\n\n    const downloads = document.createElement('span');\n    downloads.className = 'downloads';\n    downloads.textContent = `Downloads: ${image.downloads}`;\n\n    infoContainer.appendChild(likes);\n    infoContainer.appendChild(views);\n    infoContainer.appendChild(comments);\n    infoContainer.appendChild(downloads);\n\n    link.appendChild(img);\n    listItem.appendChild(link);\n    listItem.appendChild(infoContainer);\n    gallery.appendChild(listItem);\n  });\n\n  const galleryContainer = document.querySelector('.pages_container');\n  galleryContainer.appendChild(gallery);\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\n  lightbox.refresh();\n}\n\nfunction clearGallery() {\n  const galleryContainer = document.querySelector('.pages_container');\n  const existingGallery = galleryContainer.querySelector('.gallery');\n\n  if (existingGallery) {\n    galleryContainer.removeChild(existingGallery);\n  }\n}\n\nfunction showLoader() {\n  const loader = document.querySelector('.loader_cont');\n  loader.classList.remove('hidden');\n  loader.style.display = 'block';\n}\nfunction hideLoader() {\n  const loader = document.querySelector('.loader_cont');\n  loader.classList.add('hidden');\n  loader.style.display = 'none';\n}\n\nexport { createGallery, clearGallery, showLoader, hideLoader };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport getImagesByQuery from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const data = form.elements;\n  const searchQuery = data['search-text'].value.trim();\n\n  clearGallery();\n\n  if (searchQuery === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query.',\n    });\n    return;\n  }\n\n  showLoader();\n\n  try {\n    const images = await getImagesByQuery(searchQuery);\n\n    if (images.length === 0) {\n      iziToast.info({\n        title: 'Info',\n        message: 'No images found.',\n      });\n      return;\n    }\n\n    createGallery(images);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'An error occurred while fetching images.',\n    });\n  } finally {\n    hideLoader();\n    form.reset();\n  }\n});\n"],"names":["API_KEY","getImagesByQuery","query","axios","error","createGallery","images","gallery","image","listItem","link","img","infoContainer","likes","views","comments","downloads","SimpleLightbox","clearGallery","galleryContainer","existingGallery","showLoader","loader","hideLoader","form","event","searchQuery","iziToast"],"mappings":"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"}